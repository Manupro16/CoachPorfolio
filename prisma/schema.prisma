// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // or your preferred database
  url      = env("DATABASE_URL")
}

model Story {
  id              Int              @id @default(autoincrement())
  title           String
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt
  earlyLife       EarlyLife?       @relation(fields: [earlyLifeId], references: [id])
  earlyLifeId     Int?             @unique
  playerCareers   PlayerCareer[]   @relation("PlayerCareers")
  coachingCareers CoachingCareer[] @relation("CoachingCareers")
}

model EarlyLife {
  id      Int    @id @default(autoincrement())
  title   String
  content String
  image   String
  story   Story? @relation
}

model PlayerCareer {
  id          Int    @id @default(autoincrement())
  team        String
  image       String
  dates       String
  description String
  story       Story  @relation("PlayerCareers", fields: [storyId], references: [id])
  storyId     Int
}

model CoachingCareer {
  id          Int    @id @default(autoincrement())
  team        String
  image       String
  dates       String
  description String
  story       Story  @relation("CoachingCareers", fields: [storyId], references: [id])
  storyId     Int
}
